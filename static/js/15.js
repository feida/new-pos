webpackJsonp([15],{

/***/ 366:
/***/ (function(module, exports, __webpack_require__) {


/* styles */
__webpack_require__(490)

var Component = __webpack_require__(11)(
  /* script */
  __webpack_require__(442),
  /* template */
  __webpack_require__(541),
  /* scopeId */
  "data-v-54230cf4",
  /* cssModules */
  null
)
Component.options.__file = "/Users/wangxiaohui/Documents/cj/code/resto-newpos/view/views/activate/index.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key !== "__esModule"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (true) {(function () {
  var hotAPI = __webpack_require__(2)
  hotAPI.install(__webpack_require__(0), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-54230cf4", Component.options)
  } else {
    hotAPI.reload("data-v-54230cf4", Component.options)
  }
})()}

module.exports = Component.exports


/***/ }),

/***/ 419:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(364)(true);
// imports


// module
exports.push([module.i, ".content[data-v-54230cf4]{width:100%;height:100%;margin:0;padding:0;text-align:center;user-select:none}.logo[data-v-54230cf4]{width:400px;height:75px;margin-top:5%;margin-bottom:1%}img[data-v-54230cf4]{margin-top:-43px}.code-input[data-v-54230cf4]{width:100px;height:50px;line-height:50px;font-size:24px;color:#333;text-align:center;background-color:#eee;border:none;margin-top:55px;outline:none;z-index:100}.code-line[data-v-54230cf4]{height:8px;border:none;border-top:1px solid #eee;width:30px;margin:0;line-height:50px;vertical-align:center;display:inline-block;margin-top:80px;z-index:100}.btn-activation[data-v-54230cf4]{width:250px;height:50px;margin-top:72px;font-size:22px;color:#fff;border-radius:4px;background-color:#000;border:1px solid #6a7989;cursor:pointer}.btn-activation[data-v-54230cf4]:disabled{cursor:not-allowed}.keybord[data-v-54230cf4]{position:absolute;right:0;bottom:0;height:35%;width:20%;min-height:300px;min-width:300px;font-size:0;padding:0;display:flex;flex-wrap:wrap;background:linear-gradient(60deg,#9eb4b9,#de9dc1 50%,#a99cad);box-shadow:0 .05em .1em rgba(0,0,0,.5)}.keybord>span[data-v-54230cf4],.keybord[data-v-54230cf4]{border:1px solid hsla(0,0%,100%,.8);justify-content:space-around;align-items:center;border-radius:5px}.keybord>span[data-v-54230cf4]{display:inline-block;text-align:center;font-size:30px;font-weight:700;width:26%;height:20%;cursor:pointer;display:flex;background-color:hsla(0,0%,100%,.8);box-shadow:0 .2em .4em rgba(0,0,0,.5)}.loading[data-v-54230cf4]{position:fixed;z-index:10000;background-color:hsla(0,0%,100%,.9);margin:0;top:0;right:0;bottom:0;left:0;transition:opacity .3s;display:flex;justify-content:space-around;align-items:center}.loading-content[data-v-54230cf4]{width:300px;height:300px;font-size:28px;font-weight:700}.hide[data-v-54230cf4]{display:none}.right-info[data-v-54230cf4]{width:294px;height:40px;background-color:#000;color:#fff;line-height:40px;position:absolute;right:0;top:44px;border-radius:45px 0 0 45px}.code-input-input[data-v-54230cf4]{height:100%;position:absolute;width:100%;outline:none;border:none;color:transparent;text-shadow:0 0 0 transparent}.code-input-main[data-v-54230cf4]{width:80%;margin:0 auto;display:flex;flex-direction:row;justify-content:space-around;position:relative}", "", {"version":3,"sources":["/Users/wangxiaohui/Documents/cj/code/resto-newpos/view/views/activate/index.vue"],"names":[],"mappings":"AACA,0BACE,WAAY,AACZ,YAAa,AACb,SAAY,AACZ,UAAa,AACb,kBAAmB,AACnB,gBAAkB,CACnB,AACD,uBACE,YAAa,AAEb,YAAa,AACb,cAAe,AACf,gBAAkB,CACnB,AACD,qBACE,gBAAkB,CACnB,AAID,6BACE,YAAa,AACb,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,WAAY,AACZ,kBAAmB,AACnB,sBAAuB,AACvB,YAAa,AACb,gBAAiB,AACjB,aAAc,AACd,WAAa,CACd,AACD,4BACE,WAAY,AACZ,YAAa,AACb,0BAA2B,AAC3B,WAAY,AACZ,SAAY,AACZ,iBAAkB,AAClB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,WAAa,CACd,AACD,iCACE,YAAa,AACb,YAAa,AACb,gBAAiB,AACjB,eAAgB,AAChB,WAAe,AACf,kBAAmB,AACnB,sBAA0B,AAC1B,yBAA0B,AAC1B,cAAgB,CACjB,AACD,0CACE,kBAAoB,CACrB,AACD,0BACE,kBAAmB,AACnB,QAAW,AACX,SAAY,AACZ,WAAY,AACZ,UAAW,AACX,iBAAkB,AAClB,gBAAiB,AAEjB,YAAe,AACf,UAAa,AACb,aAAc,AAEd,eAAgB,AAGhB,8DAAuE,AACvE,sCAA8C,CAC/C,AACD,yDAXE,oCAA2C,AAI3C,6BAA8B,AAE9B,mBAAoB,AACpB,iBAAmB,CAmBpB,AAfD,+BACE,qBAAsB,AACtB,kBAAmB,AACnB,eAAgB,AAChB,gBAAkB,AAClB,UAAW,AACX,WAAY,AAEZ,eAAgB,AAEhB,aAAc,AAGd,oCAA2C,AAC3C,qCAA6C,CAC9C,AACD,0BACE,eAAgB,AAChB,cAAe,AACf,oCAA2C,AAC3C,SAAU,AACV,MAAO,AACP,QAAS,AACT,SAAU,AACV,OAAQ,AACR,uBAAwB,AACxB,aAAc,AACd,6BAA8B,AAC9B,kBAAoB,CACrB,AACD,kCACE,YAAa,AACb,aAAc,AACd,eAAgB,AAChB,eAAkB,CACnB,AACD,uBACE,YAAc,CACf,AACD,6BACE,YAAa,AACb,YAAa,AACb,sBAAuB,AACvB,WAAY,AACZ,iBAAkB,AAClB,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,2BAA6B,CAC9B,AACD,mCACE,YAAa,AACb,kBAAmB,AACnB,WAAY,AACZ,aAAc,AACd,YAAa,AACb,kBAAmB,AACnB,6BAA+B,CAChC,AACD,kCACE,UAAW,AACX,cAAe,AACf,aAAc,AACd,mBAAoB,AACpB,6BAA8B,AAC9B,iBAAmB,CACpB","file":"index.vue","sourcesContent":["\n.content[data-v-54230cf4] {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  text-align: center;\n  user-select: none;\n}\n.logo[data-v-54230cf4] {\n  width: 400px;\n  /* width / height = 5.4*/\n  height: 75px;\n  margin-top: 5%;\n  margin-bottom: 1%;\n}\nimg[data-v-54230cf4] {\n  margin-top: -43px;\n}\n.content[data-v-54230cf4] {\n  /*margin-top: 80px;*/\n}\n.code-input[data-v-54230cf4] {\n  width: 100px;\n  height: 50px;\n  line-height: 50px;\n  font-size: 24px;\n  color: #333;\n  text-align: center;\n  background-color: #eee;\n  border: none;\n  margin-top: 55px;\n  outline: none;\n  z-index: 100;\n}\n.code-line[data-v-54230cf4] {\n  height: 8px;\n  border: none;\n  border-top: 1px solid #eee;\n  width: 30px;\n  margin: 0px;\n  line-height: 50px;\n  vertical-align: center;\n  display: inline-block;\n  margin-top: 80px;\n  z-index: 100;\n}\n.btn-activation[data-v-54230cf4] {\n  width: 250px;\n  height: 50px;\n  margin-top: 72px;\n  font-size: 22px;\n  color: #FFFFFF;\n  border-radius: 4px;\n  background-color: #000000;\n  border: 1px solid #6A7989;\n  cursor: pointer;\n}\n.btn-activation[data-v-54230cf4]:disabled {\n  cursor: not-allowed;\n}\n.keybord[data-v-54230cf4] {\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  height: 35%;\n  width: 20%;\n  min-height: 300px;\n  min-width: 300px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  font-size: 0px;\n  padding: 0px;\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  align-items: center;\n  border-radius: 5px;\n  background: linear-gradient(60deg, #9eb4b9, #de9dc1 50%, #a99cad 100%);\n  box-shadow: 0 0.05em 0.1em rgba(0, 0, 0, 0.5);\n}\n.keybord > span[data-v-54230cf4] {\n  display: inline-block;\n  text-align: center;\n  font-size: 30px;\n  font-weight: bold;\n  width: 26%;\n  height: 20%;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  cursor: pointer;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 0.2em 0.4em rgba(0, 0, 0, 0.5);\n}\n.loading[data-v-54230cf4] {\n  position: fixed;\n  z-index: 10000;\n  background-color: rgba(255, 255, 255, 0.9);\n  margin: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  transition: opacity .3s;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n.loading-content[data-v-54230cf4] {\n  width: 300px;\n  height: 300px;\n  font-size: 28px;\n  font-weight: bold;\n}\n.hide[data-v-54230cf4] {\n  display: none;\n}\n.right-info[data-v-54230cf4] {\n  width: 294px;\n  height: 40px;\n  background-color: #000;\n  color: #fff;\n  line-height: 40px;\n  position: absolute;\n  right: 0;\n  top: 44px;\n  border-radius: 45px 0 0 45px;\n}\n.code-input-input[data-v-54230cf4] {\n  height: 100%;\n  position: absolute;\n  width: 100%;\n  outline: none;\n  border: none;\n  color: transparent;\n  text-shadow: 0 0 0 transparent;\n}\n.code-input-main[data-v-54230cf4] {\n  width: 80%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  position: relative;\n}\n"],"sourceRoot":""}]);

// exports


/***/ }),

/***/ 442:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_activate__ = __webpack_require__(133);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["default"] = ({
    name: 'activate',
    data: function data() {
        return {
            keyBoard: [1, 2, 3, 4, 5, 6, 7, 8, 9, '清空', 0, '退格'],
            codeInputs: null,
            loading: false
        };
    },
    mounted: function mounted() {
        //  获取所有的文本框
        this.codeInputs = document.getElementsByClassName("code-input");
        //  激活按钮
        var activationBtn = document.getElementById("activation");
        //  设置当前选中的文本框（默认为第一个）
        var currentInput = this.codeInputs[0];

        var loading = '';
        //  绑定文本框事件
        for (var i = 0; i < this.codeInputs.length; i++) {
            //  自动切换
            this.codeInputs[i].addEventListener("input", function (e) {
                activationBtn.disabled = true;
                if (this.value.length == 0) {
                    console.log("pre input ... ");
                    var preElem = this.previousElementSibling.previousElementSibling;
                    if (preElem && !e.detail) {
                        preElem.focus();
                        currentInput = preElem;
                    }
                }
                if (this.value.length >= 4) {
                    this.value = this.value.substring(0, 4);
                    var nextElem = this.nextElementSibling.nextElementSibling;
                    if (nextElem.type == "text") {
                        console.log("next input ... ");
                        nextElem.focus();
                        currentInput = nextElem;
                    } else {
                        activationBtn.disabled = false;
                    }
                }
                if (this.selectionStart == 0 && this.value.length > 0) {
                    this.setSelectionRange(this.value.length, this.value.length);
                }
            });

            //  切换当前选中的文本框，并且将光标移动到最后一位。
            this.codeInputs[i].addEventListener("click", function () {
                currentInput = this;
                if (this.selectionStart < this.value.length) {
                    var that = this;
                    setTimeout(function function_name(argument) {
                        that.setSelectionRange(that.value.length, that.value.length);
                    }, 1);
                }
            });

            //  绑定 键盘删除键
            this.codeInputs[i].addEventListener("keydown", function (e) {
                if (e.key == "Backspace" && currentInput.value.length == 0) {
                    k.focusPreInput();
                } else if (e.key == "Enter") {
                    activationBtn.click();
                }
            });
        }

        //  绑定虚拟键盘事件
        var keybord = document.getElementsByClassName("keybord")[0];
        var keys = keybord.querySelectorAll("span");
        for (var i = 0; i < keys.length; i++) {
            var key = keys[i];
            key.addEventListener("click", function () {
                var option = null;
                var val = this.innerText;
                console.log(val);
                if (val == "退格") {
                    currentInput.value = currentInput.value.substring(0, currentInput.value.length - 1);
                } else if (val == "清空") {
                    currentInput.value = "";
                    option = {
                        empty: true
                    };
                } else {
                    currentInput.value += val;
                }
                currentInput.focus();
                currentInput.dispatchEvent(new CustomEvent('input', {
                    detail: option
                }));
            });
        }
    },

    methods: {
        activateClick: function activateClick() {
            var _this = this;

            var activationKey = "";
            for (var i = 0; i < this.codeInputs.length; i++) {
                activationKey += this.codeInputs[i].value;
            }
            this.loading = true;
            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__api_activate__["a" /* activeInit */])({ activate: activationKey }).then(function (response) {
                if (!response.ok) {
                    _this.loading = false;
                    _this.$message.error(response.message || "请输入正确的key值");
                } else {
                    _this.loading = false;
                    _this.$message.success("激活成功，请稍等");
                    _this.$router.push({ path: '/login' });
                }
            });
        }
    }
});

/***/ }),

/***/ 490:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(419);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(365)("5d44d568", content, false);
// Hot Module Replacement
if(true) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept(419, function() {
     var newContent = __webpack_require__(419);
     if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 541:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "content",
    staticStyle: {
      "background": "#eeeeee",
      "padding-top": "142px"
    }
  }, [_c('div', {
    staticStyle: {
      "height": "380px",
      "width": "633px",
      "margin": "0px auto 0px auto",
      "background": "#FFFFFF"
    }
  }, [_c('img', {
    staticStyle: {
      "height": "86px",
      "width": "86px"
    },
    attrs: {
      "src": __webpack_require__(85),
      "alt": "resto-logo"
    }
  }), _vm._v(" "), _c('div', {
    staticClass: "content"
  }, [_c('p', {
    staticStyle: {
      "margin-top": "32px",
      "font-size": "22px",
      "color": "#666"
    }
  }, [_vm._v("请输入产品激活码")]), _vm._v(" "), _c('input', {
    staticClass: "code-input",
    attrs: {
      "type": "text",
      "name": "",
      "autofocus": "",
      "autoComplete": "off"
    }
  }), _vm._v(" "), _c('hr', {
    staticClass: "code-line"
  }), _vm._v(" "), _c('input', {
    staticClass: "code-input",
    attrs: {
      "type": "text",
      "name": "",
      "autoComplete": "off"
    }
  }), _vm._v(" "), _c('hr', {
    staticClass: "code-line"
  }), _vm._v(" "), _c('input', {
    staticClass: "code-input",
    attrs: {
      "type": "text",
      "name": "",
      "autoComplete": "off"
    }
  }), _vm._v(" "), _c('hr', {
    staticClass: "code-line"
  }), _vm._v(" "), _c('input', {
    staticClass: "code-input",
    attrs: {
      "type": "text",
      "name": "",
      "autoComplete": "off"
    }
  }), _vm._v(" "), _c('br'), _vm._v(" "), _c('button', {
    staticClass: "btn-activation",
    attrs: {
      "disabled": "",
      "id": "activation"
    },
    on: {
      "click": _vm.activateClick
    }
  }, [_vm._v("立即使用")])])]), _vm._v(" "), _c('div', {
    staticClass: "right-info"
  }, [_vm._v("欢迎使用Resto+餐饮管理系统")]), _vm._v(" "), _c('div', {
    staticClass: "keybord"
  }, _vm._l((_vm.keyBoard), function(item) {
    return _c('span', {
      on: {
        "click": function($event) {
          return _vm.keyBoardHandler(item)
        }
      }
    }, [_vm._v(_vm._s(item))])
  }), 0), _vm._v(" "), (_vm.loading) ? _c('div', {
    staticClass: "loading"
  }, [_c('div', {
    staticClass: "loading-content"
  }, [_vm._v("\n            正在激活 ...\n        ")])]) : _vm._e()])
},staticRenderFns: []}
module.exports.render._withStripped = true
if (true) {
  module.hot.accept()
  if (module.hot.data) {
     __webpack_require__(2).rerender("data-v-54230cf4", module.exports)
  }
}

/***/ })

});